<div class="price-filter-bar">
    <form id="priceFilterForm" asp-action="Index" method="get">
        <label for="price">Price:</label>
        <input type="range" id="price" name="price" min="1" max="1000" value="@ViewBag.SelectedPrice" oninput="updatePriceDisplay(this.value)" />
        <span id="priceDisplay">$@ViewBag.SelectedPrice</span>
        <input type="hidden" name="categoryId" value="@ViewBag.CategoryId" />
        <button type="submit" style="display: none;">Submit</button>
    </form>
</div>

<script>
    function updatePriceDisplay(value) {
        document.getElementById('priceDisplay').textContent = value;
    }

    const priceSlider = document.getElementById("price");
    const priceDisplay = document.getElementById("priceDisplay");

    priceSlider.addEventListener("input", () => {
        updatePriceDisplay(priceSlider.value);
    });

    priceSlider.addEventListener("change", () => {
        document.getElementById("priceFilterForm").submit();
    });
</script>
